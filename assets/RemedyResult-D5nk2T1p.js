import{c as z,j as s,m as B,P as n,r as te,g as re,l as fe,L as le,o as pe,p as he,f as ge,e as xe,k as ye}from"./index-DGnQA4xK.js";import{B as be}from"./buttonStyles-BYAF2nvm.js";import{A as ne}from"./index-Dnw7YppC.js";import{c as je,V as Re,P as ke,C as Se,R as ve,T as we}from"./TagsInfoTooltip-CsxEU9Yu.js";function oe(t){const e=z.c(10),{label:i,isActive:l,onClick:a}=t;let r,c,o,m;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={opacity:0,scale:.8},c={opacity:1,scale:1},o={opacity:0,scale:.8},m={duration:.3},e[0]=r,e[1]=c,e[2]=o,e[3]=m):(r=e[0],c=e[1],o=e[2],m=e[3]);const d=`Filtrer par ${i}`,u=`cursor-pointer rounded-md px-3 py-2 text-sm font-medium tracking-wider shadow-md transition duration-150 ease-in-out lg:text-base ${l?be:"bg-neutral-200 text-neutral-900 hover:bg-emerald-600 hover:text-white dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-600"}`;let f;return e[4]!==l||e[5]!==i||e[6]!==a||e[7]!==d||e[8]!==u?(f=s.jsx(B.button,{initial:r,animate:c,exit:o,transition:m,onClick:a,"aria-pressed":l,"aria-label":d,type:"button",className:u,children:i}),e[4]=l,e[5]=i,e[6]=a,e[7]=d,e[8]=u,e[9]=f):f=e[9],f}oe.propTypes={label:n.string.isRequired,isActive:n.bool.isRequired,onClick:n.func.isRequired};const Ne=t=>t.charAt(0).toUpperCase()+t.slice(1);function ce(t){const e=z.c(12),{tags:i,activeTag:l,onTagClick:a}=t;if(i.length===0)return null;let r,c,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={opacity:0,y:-10},c={opacity:1,y:0},o={duration:.3},e[0]=r,e[1]=c,e[2]=o):(r=e[0],c=e[1],o=e[2]);let m;if(e[3]!==l||e[4]!==a||e[5]!==i){let u;e[7]!==l||e[8]!==a?(u=f=>s.jsx(oe,{label:f==="all"?"Tous":Ne(f),isActive:l===f,onClick:()=>a(f)},f),e[7]=l,e[8]=a,e[9]=u):u=e[9],m=i.map(u),e[3]=l,e[4]=a,e[5]=i,e[6]=m}else m=e[6];let d;return e[10]!==m?(d=s.jsx(B.div,{initial:r,animate:c,transition:o,className:"mx-auto flex flex-wrap items-center justify-center gap-2",role:"group","aria-label":"Filtrer les remèdes par symptôme",children:s.jsx(ne,{mode:"popLayout",children:m})}),e[10]=m,e[11]=d):d=e[11],d}ce.propTypes={tags:n.arrayOf(n.string).isRequired,activeTag:n.string.isRequired,onTagClick:n.func.isRequired};function Te(t){const e=new Set;return t.forEach(i=>{i.matchedSymptoms.forEach(l=>{e.add(l)})}),Array.from(e).sort((i,l)=>i.localeCompare(l,"fr",{sensitivity:"base"}))}function me(t){const e=z.c(14),{matchedRemedies:i,onFilterChange:l}=t,[a,r]=te.useState("all");let c,o;e[0]!==i?(o=Te(i),c=["all",...o],e[0]=i,e[1]=c,e[2]=o):(c=e[1],o=e[2]);const m=c;let d;e[3]!==a||e[4]!==i?(d=a==="all"?i:i.filter(b=>b.matchedSymptoms.some(h=>re(h)===re(a))),e[3]=a,e[4]=i,e[5]=d):d=e[5];const u=d;let f,g;e[6]!==u||e[7]!==l?(f=()=>{l(u)},g=[u,l],e[6]=u,e[7]=l,e[8]=f,e[9]=g):(f=e[8],g=e[9]),te.useEffect(f,g);let x;e[10]===Symbol.for("react.memo_cache_sentinel")?(x=b=>{r(b)},e[10]=x):x=e[10];const $=x;if(o.length<=1)return null;let y;return e[11]!==a||e[12]!==m?(y=s.jsx("div",{className:"mb-6 w-full",children:s.jsx(ce,{tags:m,activeTag:a,onTagClick:$})}),e[11]=a,e[12]=m,e[13]=y):y=e[13],y}me.propTypes={matchedRemedies:n.arrayOf(n.shape({remedy:n.object.isRequired,matchCount:n.number.isRequired,matchedSymptoms:n.arrayOf(n.string).isRequired})).isRequired,onFilterChange:n.func.isRequired};function de(t){const e=z.c(45),{remedy:i,selectedSymptoms:l}=t,{name:a,type:r,description:c,properties:o,image:m,pregnancySafe:d,childrenAge:u,verifiedByProfessional:f}=i;let g,x,$,y;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={opacity:0,y:20},x={opacity:1,y:0},$={opacity:0,y:20},y={duration:.3},e[0]=g,e[1]=x,e[2]=$,e[3]=y):(g=e[0],x=e[1],$=e[2],y=e[3]);let b;e[4]!==a?(b=fe(a),e[4]=a,e[5]=b):b=e[5];const h=`/remedes/${b}`;let p;e[6]!==l?(p={symptoms:l},e[6]=l,e[7]=p):p=e[7];const j=`Voir les détails de ${a}`;let R;e[8]!==m||e[9]!==a?(R=m&&s.jsx("div",{className:"aspect-square w-full overflow-hidden bg-neutral-50 dark:bg-neutral-700",children:s.jsx("img",{src:m,alt:`Illustration de ${a}`,className:"mx-auto h-full w-2/3 object-scale-down p-4 transition duration-300 lg:w-3/4 2xl:w-4/5",loading:"lazy"})}),e[8]=m,e[9]=a,e[10]=R):R=e[10];let k;e[11]!==a?(k=s.jsx("h3",{className:"text-start text-xl font-bold text-neutral-900 lg:text-2xl dark:text-neutral-100",children:a}),e[11]=a,e[12]=k):k=e[12];let S;e[13]!==r?(S=s.jsx("span",{className:"shrink-0 rounded-md bg-neutral-200 px-2 py-1 text-xs font-semibold tracking-wide text-black uppercase lg:text-sm dark:bg-neutral-600 dark:text-white",children:r}),e[13]=r,e[14]=S):S=e[14];let A;e[15]!==k||e[16]!==S?(A=s.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[k,S]}),e[15]=k,e[16]=S,e[17]=A):A=e[17];let v;e[18]!==c?(v=s.jsx("p",{className:"mb-4 line-clamp-3 text-start text-sm text-neutral-600 lg:text-base dark:text-neutral-400",children:c}),e[18]=c,e[19]=v):v=e[19];let w;e[20]!==o?(w=o&&o.length>0&&s.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[o.slice(0,3).map(qe),o.length>3&&s.jsxs("span",{className:"inline-flex items-center rounded-full bg-neutral-100 px-3 py-1 text-xs font-medium text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",children:["+",o.length-3]})]}),e[20]=o,e[21]=w):w=e[21];let N;e[22]!==f?(N=f&&s.jsx(Re,{}),e[22]=f,e[23]=N):N=e[23];let F;e[24]!==d?(F=d&&s.jsx(ke,{variant:"default"}),e[24]=d,e[25]=F):F=e[25];let T;e[26]!==u?(T=u!==null&&s.jsx(Se,{age:u}),e[26]=u,e[27]=T):T=e[27];let q;e[28]!==N||e[29]!==F||e[30]!==T?(q=s.jsxs("div",{className:"flex flex-wrap gap-2",children:[N,F,T]}),e[28]=N,e[29]=F,e[30]=T,e[31]=q):q=e[31];let _;e[32]!==A||e[33]!==v||e[34]!==w||e[35]!==q?(_=s.jsxs("div",{className:"p-6",children:[A,v,w,q]}),e[32]=A,e[33]=v,e[34]=w,e[35]=q,e[36]=_):_=e[36];let C;e[37]!==_||e[38]!==R?(C=s.jsxs("div",{className:"group h-full overflow-hidden rounded-lg bg-white shadow-md ring-2 ring-neutral-300 transition duration-300 ease-in-out hover:shadow-lg hover:ring-emerald-500 dark:bg-neutral-800 dark:ring-neutral-600",children:[R,_]}),e[37]=_,e[38]=R,e[39]=C):C=e[39];let L;return e[40]!==C||e[41]!==h||e[42]!==p||e[43]!==j?(L=s.jsx(B.div,{initial:g,animate:x,exit:$,transition:y,children:s.jsx(le,{to:h,state:p,"aria-label":j,className:"block h-full",children:C})}),e[40]=C,e[41]=h,e[42]=p,e[43]=j,e[44]=L):L=e[44],L}function qe(t,e){return s.jsx("span",{className:"inline-flex items-center gap-1 rounded-md bg-emerald-100 px-3 py-1 text-xs font-medium text-emerald-800 lg:text-sm dark:bg-emerald-900 dark:text-emerald-200",children:je(t.name,!0)},e)}de.propTypes={remedy:n.shape({id:n.number.isRequired,name:n.string.isRequired,type:n.string.isRequired,description:n.string.isRequired,properties:n.arrayOf(n.shape({name:n.string.isRequired,score:n.number.isRequired,category:n.string.isRequired})),image:n.string,pregnancySafe:n.bool,childrenAge:n.number,verifiedByProfessional:n.bool}).isRequired,selectedSymptoms:n.arrayOf(n.string).isRequired};function _e(t,e){if(t.remedy.id!==e.remedy.id||t.selectedSymptoms.length!==e.selectedSymptoms.length)return!1;if(t.selectedSymptoms===e.selectedSymptoms)return!0;for(let i=0;i<t.selectedSymptoms.length;i++)if(t.selectedSymptoms[i]!==e.selectedSymptoms[i])return!1;return!0}const Ce=te.memo(de,_e);function ue(t){const e=z.c(10),{remedies:i,hasMatchingRemedies:l,selectedSymptoms:a}=t;if(i.length===0){const o=l?"no-filter-match":"no-results",m=!l;let d;return e[0]!==m||e[1]!==o?(d=s.jsx(ve,{variant:o,showHomeButton:m}),e[0]=m,e[1]=o,e[2]=d):d=e[2],d}let r;if(e[3]!==i||e[4]!==a){let o;e[6]!==a?(o=m=>s.jsx(Ce,{remedy:m.remedy,selectedSymptoms:a},m.remedy.id),e[6]=a,e[7]=o):o=e[7],r=i.map(o),e[3]=i,e[4]=a,e[5]=r}else r=e[5];let c;return e[8]!==r?(c=s.jsx("div",{className:"w-full",children:s.jsx(ne,{mode:"sync",children:s.jsx("div",{className:"mx-4 grid grid-cols-1 gap-6 md:grid-cols-2 lg:-mx-4 lg:grid-cols-3 2xl:gap-12",children:r})})}),e[8]=r,e[9]=c):c=e[9],c}ue.propTypes={remedies:n.arrayOf(n.shape({remedy:n.object.isRequired,matchCount:n.number.isRequired,matchedSymptoms:n.arrayOf(n.string).isRequired})).isRequired,hasMatchingRemedies:n.bool.isRequired,selectedSymptoms:n.arrayOf(n.string).isRequired};function Me(){const t=z.c(81),e=pe();e.state?.symptoms;let i;if(t[0]!==e.search||t[1]!==e.state?.symptoms){e:{const ae=new URLSearchParams(e.search).get("symptoms");if(ae){i=he(ae);break e}let X;t[3]!==e.state?.symptoms?(X=e.state?.symptoms||[],t[3]=e.state?.symptoms,t[4]=X):X=t[4];const Z=X;let ee;t[5]!==Z?(ee=Array.isArray(Z)?Z.filter($e):[],t[5]=Z,t[6]=ee):ee=t[6],i=ee}t[0]=e.search,t[1]=e.state?.symptoms,t[2]=i}else i=t[2];const l=i;let a;t[7]!==l?(a=ge(l,xe),t[7]=l,t[8]=a):a=t[8];const r=a,[c,o]=te.useState(r);let m;t[9]===Symbol.for("react.memo_cache_sentinel")?(m=ie=>{o(ie)},t[9]=m):m=t[9];const d=m;let u;t[10]!==l?(u=l.length>0?`Remèdes pour ${l.join(", ")} - TRADIMEDIKA`:"Résultats des remèdes - TRADIMEDIKA",t[10]=l,t[11]=u):u=t[11];const f=u;let g;t[12]!==r.length||t[13]!==l?(g=r.length>0?`${r.length} remède${r.length>1?"s":""} naturel${r.length>1?"s":""} trouvé${r.length>1?"s":""} pour ${l.join(", ")}`:`Recherche de remèdes naturels pour ${l.join(", ")}`,t[12]=r.length,t[13]=l,t[14]=g):g=t[14];const x=g;let $;t[15]!==l?($=l.length>0?`https://pierremaze.github.io/tradimedika/remedes?symptoms=${encodeURIComponent(l.join(","))}`:"https://pierremaze.github.io/tradimedika/remedes",t[15]=l,t[16]=$):$=t[16];const y=$;let b;t[17]!==y||t[18]!==x||t[19]!==f?(b={pageTitle:f,pageDescription:x,canonicalUrl:y},t[17]=y,t[18]=x,t[19]=f,t[20]=b):b=t[20];const{pageTitle:h,pageDescription:p,canonicalUrl:j}=b;let R;t[21]!==h?(R=s.jsx("title",{children:h}),t[21]=h,t[22]=R):R=t[22];let k;t[23]!==p?(k=s.jsx("meta",{name:"description",content:p}),t[23]=p,t[24]=k):k=t[24];let S;t[25]!==j?(S=s.jsx("link",{rel:"canonical",href:j}),t[25]=j,t[26]=S):S=t[26];let A;t[27]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("meta",{property:"og:type",content:"website"}),t[27]=A):A=t[27];let v;t[28]!==j?(v=s.jsx("meta",{property:"og:url",content:j}),t[28]=j,t[29]=v):v=t[29];let w;t[30]!==h?(w=s.jsx("meta",{property:"og:title",content:h}),t[30]=h,t[31]=w):w=t[31];let N;t[32]!==p?(N=s.jsx("meta",{property:"og:description",content:p}),t[32]=p,t[33]=N):N=t[33];let F;t[34]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("meta",{name:"twitter:card",content:"summary"}),t[34]=F):F=t[34];let T;t[35]!==j?(T=s.jsx("meta",{name:"twitter:url",content:j}),t[35]=j,t[36]=T):T=t[36];let q;t[37]!==h?(q=s.jsx("meta",{name:"twitter:title",content:h}),t[37]=h,t[38]=q):q=t[38];let _;t[39]!==p?(_=s.jsx("meta",{name:"twitter:description",content:p}),t[39]=p,t[40]=_):_=t[40];let C;t[41]!==v||t[42]!==w||t[43]!==N||t[44]!==T||t[45]!==q||t[46]!==_||t[47]!==R||t[48]!==k||t[49]!==S?(C=s.jsxs(ye,{children:[R,k,S,A,v,w,N,F,T,q,_]}),t[41]=v,t[42]=w,t[43]=N,t[44]=T,t[45]=q,t[46]=_,t[47]=R,t[48]=k,t[49]=S,t[50]=C):C=t[50];let L,D,P;t[51]===Symbol.for("react.memo_cache_sentinel")?(L={opacity:0},D={opacity:1},P={delay:.3},t[51]=L,t[52]=D,t[53]=P):(L=t[51],D=t[52],P=t[53]);let V;t[54]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(B.div,{initial:L,animate:D,transition:P,className:"mb-6 flex items-center gap-3",children:s.jsx(le,{to:"/","aria-label":"Retour à l'accueil",className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-6 py-3 font-semibold text-white shadow-md transition duration-200 hover:bg-emerald-700 hover:shadow-lg focus:ring-2 focus:ring-emerald-300 focus:outline-none",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})})}),t[54]=V):V=t[54];let H;t[55]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("h1",{className:"mb-6 text-3xl font-bold lg:text-4xl",children:"Résultats des Remèdes"}),t[55]=H):H=t[55];let E;t[56]!==l?(E=l.length>0&&s.jsxs("p",{className:"mb-6 text-center text-base text-neutral-600 lg:text-lg dark:text-neutral-400",children:["Remèdes naturels pour:"," ",s.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-500",children:l.join(", ")})]}),t[56]=l,t[57]=E):E=t[57];let M;t[58]!==r||t[59]!==l?(M=r.length>0&&s.jsx(me,{matchedRemedies:r,onFilterChange:d},l.join("-")),t[58]=r,t[59]=l,t[60]=M):M=t[60];let O;t[61]!==c.length||t[62]!==r.length?(O=c.length>0&&r.length>0&&s.jsxs("p",{className:"mb-6 text-lg text-neutral-600 dark:text-neutral-400",role:"status","aria-live":"polite","aria-atomic":"true",children:[s.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-500",children:c.length})," ","remède",c.length>1?"s":""," trouvé",c.length>1?"s":""]}),t[61]=c.length,t[62]=r.length,t[63]=O):O=t[63];const se=r.length>0;let I;t[64]!==c||t[65]!==l||t[66]!==se?(I=s.jsx(ue,{remedies:c,hasMatchingRemedies:se,selectedSymptoms:l}),t[64]=c,t[65]=l,t[66]=se,t[67]=I):I=t[67];let U;t[68]!==E||t[69]!==M||t[70]!==O||t[71]!==I?(U=s.jsxs("div",{className:"text-dark dark:text-light flex flex-col items-center text-center transition duration-300 ease-in-out",children:[H,E,M,O,I]}),t[68]=E,t[69]=M,t[70]=O,t[71]=I,t[72]=U):U=t[72];let K,Y,W;t[73]===Symbol.for("react.memo_cache_sentinel")?(K={opacity:0},Y={opacity:1},W={delay:1},t[73]=K,t[74]=Y,t[75]=W):(K=t[73],Y=t[74],W=t[75]);let G,J;t[76]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(B.div,{initial:K,animate:Y,transition:W,className:"mt-12 flex w-full justify-center",children:s.jsx(le,{to:"/","aria-label":"Retour à l'accueil",className:"inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-6 py-3 font-semibold text-white shadow-md transition duration-200 hover:bg-emerald-700 hover:shadow-lg focus:ring-2 focus:ring-emerald-300 focus:outline-none",children:"Nouvelle recherche"})}),J=s.jsx(we,{}),t[76]=G,t[77]=J):(G=t[76],J=t[77]);let Q;return t[78]!==C||t[79]!==U?(Q=s.jsxs(s.Fragment,{children:[C,V,U,G,J]}),t[78]=C,t[79]=U,t[80]=Q):Q=t[80],Q}function $e(t){return typeof t=="string"&&t.trim()}export{Me as default};
